(this["webpackJsonpphoto-tips-web"]=this["webpackJsonpphoto-tips-web"]||[]).push([[0],{35:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){"use strict";n.r(t);var s=n(0),c=n(1),a=n(27),i=n.n(a),r=n(6),l=(n(35),n(3));var o=function(e){var t=e.isLogin?"\u0410\u043a\u043a\u0430\u0443\u043d\u0442":"\u0412\u043e\u0439\u0442\u0438";return Object(s.jsxs)("header",{children:[Object(s.jsx)(r.b,{to:"/",children:Object(s.jsx)("img",{className:"logo",src:"../../images/Logo.svg",alt:"logo"})}),Object(s.jsx)("nav",{children:Object(s.jsxs)("ul",{className:"nav-menu",children:[Object(s.jsx)("li",{children:Object(s.jsx)(r.b,{to:"/lecture/1",children:Object(s.jsxs)("button",{className:"btn-text-icon",children:[Object(s.jsx)("div",{className:"btn-icon course"}),"\u041a\u0443\u0440\u0441"]})})}),Object(s.jsx)("li",{children:Object(s.jsx)(r.b,{to:"/gallery",children:Object(s.jsxs)("button",{className:"btn-text-icon",children:[Object(s.jsx)("div",{className:"btn-icon gallery"}),"\u0413\u0430\u043b\u0435\u0440\u0435\u044f"]})})})]})}),Object(s.jsx)("div",{className:"log_in",children:Object(s.jsx)(r.b,{to:"/account",children:Object(s.jsx)("button",{children:t})})})]})},j=n(11),u=n(12),d=n(14),b=n(13),m=n(2),h=1,O=2;var p=function(e){var t,n=Object(c.useState)(h),a=Object(m.a)(n,2),i=a[0],l=a[1],o=e.lesson;return o?(t=i===h?"":i===O?"in-progress":"finish",Object(s.jsx)("div",{children:Object(s.jsxs)(r.b,{to:"/lecture/"+o.id,moduleEntryId:e.moduleNumber,onClick:function(){return l(O)},children:[Object(s.jsxs)("p",{className:"element-number ".concat(t),children:[e.moduleNumber,".",o.indexNumber]}),Object(s.jsx)("p",{className:"lesson-name UI priority-2",children:o.name}),Object(s.jsxs)("p",{className:"duration UI priority-2",children:[5*o.indexNumber," \u043c\u0438\u043d"]})]})})):Object(s.jsx)("div",{})},x=1,v=2;var f=function(e){var t=Object(c.useState)(!1),n=Object(m.a)(t,2),a=n[0],i=n[1],r=Object(c.useState)(x),l=Object(m.a)(r,2),o=l[0],j=(l[1],e.module);if(!j)return Object(s.jsx)("div",{});var u,d=j.entries.length,b=j.entries.map((function(e){return Object(s.jsx)("li",{children:Object(s.jsx)(p,{lesson:e,moduleNumber:j.indexNumber},j.indexNumber+"_"+e.id)})}));return u=o===x?"not-started":o===v?"in-progress":"finish",Object(s.jsxs)("div",{className:"module ".concat(u," ").concat(a?"":"close"),children:[Object(s.jsxs)("div",{className:"description",children:[Object(s.jsxs)("div",{className:"main-info",children:[Object(s.jsx)("div",{className:"icon module-status"}),Object(s.jsxs)("div",{children:[Object(s.jsx)("h2",{className:"UI",children:j.name}),Object(s.jsx)("p",{className:"UI",children:j.description})]})]}),Object(s.jsxs)("div",{className:"materials",children:[Object(s.jsxs)("ul",{children:[Object(s.jsxs)("li",{children:[Object(s.jsx)("div",{className:"icon homework"}),Object(s.jsx)("p",{className:"lesson-name UI priority-2",children:"1 \u0434\u043e\u043c\u0430\u0448\u043d\u0435\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u0435"})]}),Object(s.jsxs)("li",{children:[Object(s.jsx)("div",{className:"icon lessons"}),Object(s.jsxs)("p",{className:"lesson-name UI priority-2",children:[d," ",function(e){switch(e%10){case 1:return"\u0443\u0440\u043e\u043a";case 2:case 3:case 4:return"\u0443\u0440\u043e\u043a\u0430";default:return"\u0443\u0440\u043e\u043a\u043e\u0432"}}(d)]})]})]}),Object(s.jsx)("button",{id:"module-2",className:"icon open",onClick:function(){return i(!a)}})]})]}),Object(s.jsx)("div",{className:"full-description",children:Object(s.jsx)("ul",{children:b})})]})},g=(n(41),function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(){var e;return Object(j.a)(this,n),(e=t.call(this)).state={module:null},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("http://85.208.208.156:5000/api/module/listAllIn").then((function(e){return e.json()})).then((function(t){e.setState({module:t})}))}},{key:"render",value:function(){var e=this.state.module;if(!e)return Object(s.jsx)("div",{});var t=e.map((function(e){return Object(s.jsx)("li",{children:Object(s.jsx)(f,{module:e},e.id)})}));return Object(s.jsxs)("div",{className:"container table-of-contents",children:[Object(s.jsxs)("div",{className:"last-used-module",children:[Object(s.jsx)("h1",{className:"UI",children:"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c \u043e\u0431\u0443\u0447\u0435\u043d\u0438\u0435"}),Object(s.jsx)("div",{className:"frame",children:Object(s.jsx)(f,{module:this.state.module[0]},-1)})]}),Object(s.jsxs)("section",{className:"all-modules",children:[Object(s.jsx)("h1",{className:"UI",children:"\u041c\u043e\u0434\u0443\u043b\u0438"}),Object(s.jsx)("div",{className:"frame",children:Object(s.jsx)("ul",{children:t})})]})]})}}]),n}(c.Component)),N=n(15);var k=function(e){return Object(s.jsx)("div",{children:Object(s.jsx)("img",{id:e.id,src:e.imgUrl,alt:"",onClick:e.onClick})})};var y=function(e){var t=e.size*e.rowNumber,n=e.photos.slice(0+t,e.size+t).map((function(t){return Object(s.jsx)(k,{id:t.id,imgUrl:t.imgUrl,onClick:function(){return e.onClick(t.id,t.imgUrl)}},t.id)}));return Object(s.jsx)("div",{className:"row",children:n})},w=function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(){return Object(j.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props.imgUrl,t=this.props.imgUrl.split("/").slice(-1);return Object(s.jsx)("div",{id:"modal",className:"modal",children:Object(s.jsxs)("div",{className:"photo-zoom",onKeyPress:this.props.onKeyPress,children:[Object(s.jsx)("div",{className:"photo",children:Object(s.jsx)("img",{id:"modalImg",src:e,alt:""})}),Object(s.jsxs)("div",{className:"description",children:[Object(s.jsx)("p",{className:"UI sub-t2",children:"\u0421\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u043e \u0444\u043e\u0442\u043e"}),Object(s.jsx)("p",{className:"UI sub-t1 module-name",children:"\u041d\u0430\u0447\u0430\u043b\u043e"}),Object(s.jsx)("div",{className:"close",onClick:this.props.onClick,children:Object(s.jsx)("div",{className:"btn-icon"})}),Object(s.jsxs)("div",{className:"meta-info",children:[Object(s.jsxs)("div",{className:"icon-text datetime",children:[Object(s.jsx)("div",{className:"btn-icon"}),Object(s.jsx)("p",{className:"UI",children:"\u0421\u0440. 20 \u043e\u043a\u0442. 2020 \u0433., 13:56"})]}),Object(s.jsxs)("div",{className:"icon-text resolution",children:[Object(s.jsx)("div",{className:"btn-icon"}),Object(s.jsxs)("p",{className:"UI",children:[t,Object(s.jsx)("br",{}),"12.2\xa0\u041c\u043f\u0438\u043a\u0441. 4032\xd73024 1,9\xa0\u041c\u0411"]})]}),Object(s.jsxs)("div",{className:"icon-text device",children:[Object(s.jsx)("div",{className:"btn-icon"}),Object(s.jsxs)("p",{className:"UI",children:["Smartphone",Object(s.jsx)("br",{}),"\u0192/1,8 1/30 4,25\xa0\u043c\u043c ISO\xa0130"]})]})]})]})]})})}}]),n}(c.Component),C=[{id:1,imgUrl:"images/gallery_images/20190421_192441.jpg"},{id:2,imgUrl:"images/gallery_images/20190425_130943.jpg"},{id:3,imgUrl:"images/gallery_images/20190426_135347.jpg"},{id:4,imgUrl:"images/gallery_images/20190624_115029.jpg"},{id:5,imgUrl:"images/gallery_images/20190624_154458.jpg"},{id:6,imgUrl:"images/gallery_images/20190626_113458.jpg"},{id:7,imgUrl:"images/gallery_images/20190805_201457_018_saved-01.jpeg"},{id:8,imgUrl:"images/gallery_images/20190930_144218-01.jpeg"},{id:9,imgUrl:"images/gallery_images/20190930_213200.jpeg"},{id:10,imgUrl:"images/gallery_images/20191001_112842.jpeg"},{id:11,imgUrl:"images/gallery_images/20191001_180503.jpeg"}],I=(n(42),function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(){var e;return Object(j.a)(this,n),(e=t.call(this)).state={moduleName:"\u041d\u0430\u0447\u0430\u043b\u043e",size:5,rowNumbers:[0],photos:C,isOpenZoom:!1,currentImg:{},prevImg:{},nextImg:{}},e.handleClickOpenPhoto=e.handleClickOpenPhoto.bind(Object(N.a)(e)),e.handleClickClosePhoto=e.handleClickClosePhoto.bind(Object(N.a)(e)),e}return Object(u.a)(n,[{key:"handleClickClosePhoto",value:function(){this.setState({isOpenZoom:!1,currentImg:null,prevImg:null,nextImg:null})}},{key:"handleClickOpenPhoto",value:function(e,t){this.setState({isOpenZoom:!0,currentImg:t})}},{key:"componentDidMount",value:function(){var e=C.length,t=Math.ceil(e/this.state.size),n=Array.apply(null,{length:t}).map(Number.call,Number);this.setState((function(e){return{rowNumbers:n}}))}},{key:"render",value:function(){var e=this,t=this.state.rowNumbers.map((function(t){return Object(s.jsx)(y,{rowNumber:t,size:e.state.size,photos:e.state.photos,onClick:function(t,n){return e.handleClickOpenPhoto(t,n)}},t)}));return Object(s.jsxs)("div",{className:"gallery container",children:[Object(s.jsxs)("div",{className:"frame gallery module last-used-module",children:[Object(s.jsx)("h1",{className:"UI",children:this.state.moduleName}),t]}),this.state.isOpenZoom?Object(s.jsx)(w,{imgUrl:this.state.currentImg,onClick:function(){return e.handleClickClosePhoto()},onKeyPress:this.handleKeyPress}):null]})}}]),n}(c.Component)),U=n(5),S=n.n(U),_=n(10);var P=function(e){return Object(s.jsxs)("section",{className:"info-card frame",children:[Object(s.jsxs)("h1",{className:"article",children:[" ",e.value.name," "]}),Object(s.jsx)("p",{className:"article",children:e.value.description})]})},T=1,E=2;var M=function(e){return Object(s.jsxs)("header",{children:[Object(s.jsx)(r.b,{to:"/",style:{textDecoration:"none",background:"none"},children:Object(s.jsxs)("button",{className:"btn-text-icon",children:[Object(s.jsx)("div",{className:"btn-icon course"}),"\u041a \u043a\u0443\u0440\u0441\u0443"]})}),Object(s.jsxs)("ul",{className:"lesson-type",children:[Object(s.jsx)("li",{children:Object(s.jsx)("button",{onClick:e.onClickVideo,children:Object(s.jsx)("div",{id:"video-lesson-1",className:"btn-icon video-lesson ".concat(e.value===E?"active":"")})})}),Object(s.jsx)("li",{children:Object(s.jsx)("button",{id:"text-lesson",onClick:e.onClickText,children:Object(s.jsx)("div",{id:"text-lesson-1",className:"btn-icon text-lesson ".concat(e.value===T?"active":"")})})})]})]})};var L=function(e){var t=e.lessonId,n=1!==(t=parseInt(t))?t-1:t,c=t+1;return Object(s.jsx)("div",{className:"nav-footer",children:Object(s.jsxs)("ul",{children:[Object(s.jsx)("li",{className:"previous-lesson",children:Object(s.jsx)(r.b,{to:"/lecture/"+n,children:Object(s.jsxs)("button",{className:"btn-text-icon",children:[Object(s.jsx)("div",{className:"btn-icon",children:" "}),"\u041f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0439 \u0443\u0440\u043e\u043a"]})})}),Object(s.jsx)("li",{className:"next-lesson",children:Object(s.jsx)(r.b,{to:"/lecture/"+c,children:Object(s.jsxs)("button",{className:"btn-text-icon",children:["\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u0443\u0440\u043e\u043a",Object(s.jsx)("div",{className:"btn-icon",children:" "})]})})})]})})};var z=function(e){return Object(s.jsxs)("div",{className:"frame info-card additional-info",children:[Object(s.jsx)("h1",{className:"article",children:" \u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f "})," ",Object(s.jsx)("p",{className:"UI",children:e.additionalInfo})]})};function D(e){var t=e.content;if(!t)return Object(s.jsx)("div",{});var n="http://85.208.208.156:5000/"+t;return Object(s.jsx)("div",{children:Object(s.jsx)("div",{className:"lesson-img",children:Object(s.jsx)("div",{className:"lesson-img-container",children:Object(s.jsx)("img",{className:"picture",src:n,alt:"Example for the lesson"})})})})}var F=function(e){var t=e.content;return Object(s.jsx)("p",{className:"article",children:t})},J=n(29),K=n.n(J);var Z=function(e){var t="http://85.208.208.156:5000/"+e.content;return Object(s.jsxs)("div",{className:"lesson-subpart video-container",children:[Object(s.jsx)(K.a,{url:t,width:"100%",height:"100%",controls:!0}),Object(s.jsx)("div",{className:"title",children:Object(s.jsx)("p",{className:"article",children:"\u041b\u0443\u0447\u0448\u0435\u0435 \u0432\u0438\u0434\u0435\u043e \u0432 \u043c\u0438\u0440\u0435"})})]})};function A(e){var t,n=e.type,c=e.content;return"Video"===n?t=Object(s.jsx)(Z,{content:c}):"Text"===n?t=Object(s.jsx)(F,{content:c}):"Image"===n&&(t=Object(s.jsx)(D,{content:c})),Object(s.jsx)("div",{className:"lesson-subpart",children:t})}function V(e){var t=null===e||void 0===e?void 0:e.content;if(!t)return Object(s.jsx)("div",{children:Object(s.jsx)("h1",{className:"UI",children:"\u0423\u0440\u043e\u043a \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d"})});var n=t.sort((function(e,t){return e-t})).map((function(e){return Object(s.jsx)(A,{type:e.type,content:e.content},e.id)}));return Object(s.jsx)("div",{className:"lesson-material",children:Object(s.jsxs)("div",{className:"lesson-part",children:[Object(s.jsx)("h1",{className:"article lesson",children:" \u0422\u0435\u043a\u0441\u0442\u043e\u0432\u0430\u044f \u043b\u0435\u043a\u0446\u0438\u044f "}),Object(s.jsx)("div",{className:"content",children:n})]})})}function B(e){var t=e.content;if(!t|0===t.length)return Object(s.jsx)("div",{children:Object(s.jsx)("h1",{className:"article lesson",children:"\u0412\u0438\u0434\u0435\u043e \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b"})});var n=t.sort((function(e,t){return e-t})).map((function(e){return Object(s.jsx)(A,{type:e.type,content:e.content},e.id)}));return Object(s.jsx)("div",{className:"lesson-material",children:Object(s.jsxs)("div",{className:"lesson-part",children:[Object(s.jsx)("h1",{className:"article lesson",children:" \u0412\u0438\u0434\u0435\u043e-\u043b\u0435\u043a\u0446\u0438\u044f "}),Object(s.jsx)("div",{className:"content",children:n})]})})}n(51);var q=1,G=2;var H=function(){var e=Object(l.f)().lessonId,t=Object(c.useState)(q),n=Object(m.a)(t,2),a=n[0],i=n[1],r=Object(c.useState)({}),o=Object(m.a)(r,2),j=o[0],u=o[1];if(Object(c.useEffect)((function(){function t(){return(t=Object(_.a)(S.a.mark((function t(){var n,s;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("http://85.208.208.156:5000/api/module_entry?ModuleEntryId="+e);case 2:return n=t.sent,t.next=5,n.json();case 5:s=t.sent,u(s);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]),!j)return Object(s.jsx)("div",{children:Object(s.jsx)("h1",{className:"UI",children:"\u0423\u0440\u043e\u043a \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d"})});var d,b=j.additionalInfo;return d=a===q?Object(s.jsx)(V,{content:j.textLecture}):Object(s.jsx)(B,{content:j.videoLecture}),Object(s.jsxs)("div",{className:"container",children:[Object(s.jsx)(P,{value:j}),Object(s.jsxs)("article",{className:"lesson frame",children:[Object(s.jsx)(M,{value:a,onClickText:function(){return i(q)},onClickVideo:function(){return i(G)}}),d]})," ",Object(s.jsx)(L,{lessonId:e}),b?Object(s.jsx)(z,{additionalInfo:b}):""]})};n(52);function Q(e){var t=e.token,n=e.setToken,a=Object(c.useState)(t),i=Object(m.a)(a,2),r=i[0],l=i[1],o=Object(c.useState)(!1),j=Object(m.a)(o,2),u=j[0],d=j[1],b=Object(c.useState)(!1),h=Object(m.a)(b,2),O=h[0],p=h[1],x=Object(c.useState)(),v=Object(m.a)(x,2),f=v[0],g=v[1],N=Object(c.useState)(),k=Object(m.a)(N,2),y=k[0],w=k[1],C=Object(c.useState)(),I=Object(m.a)(C,2),U=I[0],P=I[1],T=Object(c.useState)(),E=Object(m.a)(T,2),M=E[0],L=E[1],z=Object(c.useState)({token:r,name:f,surname:y,email:U,phoneNumber:M}),D=Object(m.a)(z,2),F=D[0],J=D[1];Object(c.useEffect)((function(){function e(){return(e=Object(_.a)(S.a.mark((function e(){var t,n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!1),d(!0),e.prev=2,e.next=5,fetch("http://85.208.208.156:5000/api/user?Token="+r);case 5:return t=e.sent,e.next=8,t.json();case 8:n=e.sent,g(n.name),w(n.surname),P(n.email),L(n.phoneNumber),d(!1),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(2),p(!0);case 19:case"end":return e.stop()}}),e,null,[[2,16]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[r]),Object(c.useEffect)((function(){J({token:r,name:f,surname:y,email:U,phoneNumber:M})}),[r,f,y,U,M]);var K=Object(c.useState)(null),Z=Object(m.a)(K,2),A=Z[0],V=Z[1],B=Object(c.useState)(null),q=Object(m.a)(B,2),G=q[0],H=q[1],Q=Object(c.useState)({token:r,oldPassword:A,newPassword:G}),R=Object(m.a)(Q,2),W=R[0],X=R[1];Object(c.useEffect)((function(){X({token:r,oldPassword:A,newPassword:G})}),[r,A,G]);return Object(s.jsx)("div",{className:"account container",children:u?Object(s.jsx)("div",{children:"Loading ..."}):Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{className:"frame main-info",children:[Object(s.jsxs)("div",{className:"right-side",children:[Object(s.jsx)("img",{src:"../../images/user_photo.png",alt:"User"}),Object(s.jsxs)("div",{children:[Object(s.jsx)("h2",{className:"UI",children:f+" "+y}),Object(s.jsx)("p",{className:"UI email",children:U})]})]}),Object(s.jsx)("button",{className:"std logout",onClick:function(){localStorage.removeItem("token"),document.location.reload()},children:"\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430"})]}),Object(s.jsxs)("div",{className:"frame full-info",children:[Object(s.jsx)("h2",{className:"UI",children:"\u041f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"}),Object(s.jsxs)("form",{onSubmit:function(e){function t(){return(t=Object(_.a)(S.a.mark((function e(){var t,s,c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!1),d(!0),e.prev=2,e.next=5,fetch("http://85.208.208.156:5000/api/user/updateInfo",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(F)});case 5:return t=e.sent,e.next=8,t.json();case 8:s=e.sent,"User not found"!==(c=s.token)&&(l(c),n(c)),d(!1),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),p(!0);case 17:case"end":return e.stop()}}),e,null,[[2,14]])})))).apply(this,arguments)}e.preventDefault(),function(){t.apply(this,arguments)}()},children:[Object(s.jsx)("label",{htmlFor:"userName",children:Object(s.jsx)("p",{className:"UI caption",children:"\u0418\u043c\u044f"})}),Object(s.jsx)("input",{id:"userName",type:"text",value:f,onChange:function(e){return g(e.target.value)}}),Object(s.jsx)("label",{htmlFor:"userSurname",children:Object(s.jsx)("p",{className:"UI caption",children:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"})}),Object(s.jsx)("input",{id:"userSurname",type:"text",value:y,onChange:function(e){return w(e.target.value)}}),Object(s.jsx)("label",{htmlFor:"userPhone",children:Object(s.jsx)("p",{className:"UI caption",children:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430"})}),Object(s.jsx)("input",{id:"userPhone",type:"text",value:M,onChange:function(e){return L(e.target.value)}}),O&&Object(s.jsx)("div",{children:"Something went wrong ..."}),Object(s.jsx)("input",{type:"submit",value:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})]}),Object(s.jsxs)("div",{className:"frame change-password",children:[Object(s.jsx)("h2",{className:"UI",children:"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"}),Object(s.jsxs)("form",{onSubmit:function(e){function t(){return(t=Object(_.a)(S.a.mark((function e(){var t,s,c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!1),d(!0),e.prev=2,e.next=5,fetch("http://85.208.208.156:5000/api/user/updatePassword",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(W)});case 5:return t=e.sent,e.next=8,t.json();case 8:s=e.sent,"User not found"!==(c=s.token)&&(l(c),n(c)),d(!1),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),p(!0);case 17:case"end":return e.stop()}}),e,null,[[2,14]])})))).apply(this,arguments)}e.preventDefault(),function(){t.apply(this,arguments)}()},children:[Object(s.jsx)("label",{htmlFor:"userPassword",children:Object(s.jsx)("p",{className:"UI caption",children:"\u0422\u0435\u043a\u0443\u0449\u0438\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"})}),Object(s.jsx)("input",{id:"userPassword",type:"password",autoComplete:"current-password",onChange:function(e){return V(e.target.value)}}),Object(s.jsx)("label",{htmlFor:"newPassword",children:Object(s.jsx)("p",{className:"UI caption",children:"\u041d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"})}),Object(s.jsx)("input",{id:"newPassword",type:"password",autoComplete:"new-password",onChange:function(e){return H(e.target.value)}}),O&&Object(s.jsx)("div",{children:"Something went wrong ..."}),Object(s.jsx)("input",{type:"submit",value:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"})]})]})]})})}function R(e){return W.apply(this,arguments)}function W(){return(W=Object(_.a)(S.a.mark((function e(t){var n,s,c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="?Email="+t.username+"&Password="+t.password,"http://85.208.208.156:5000/api/user/token",e.next=4,fetch("http://85.208.208.156:5000/api/user/token"+n,{headers:{"Content-Type":"text/plain"}});case 4:return s=e.sent,c=s.text(),e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(e){var t=e.setToken,n=e.onClick,a=Object(c.useState)(!1),i=Object(m.a)(a,2),r=i[0],l=i[1],o=Object(c.useState)(),j=Object(m.a)(o,2),u=j[0],d=j[1],b=Object(c.useState)(),h=Object(m.a)(b,2),O=h[0],p=h[1],x=function(){var e=Object(_.a)(S.a.mark((function e(n){var s;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),l(!1),e.next=4,R({username:u,password:O});case 4:"User not found"!==(s=e.sent)?t(s):l(!0);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(s.jsx)("div",{className:"login container frame",children:Object(s.jsxs)("form",{onSubmit:x,children:[Object(s.jsx)("h1",{className:"UI",children:"\u0412\u0445\u043e\u0434"}),r&&Object(s.jsx)("p",{className:"UI",children:"\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0435 \u0438\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c"}),Object(s.jsx)("input",{type:"text",name:"email",placeholder:"Email",onChange:function(e){return d(e.target.value)}}),Object(s.jsx)("input",{type:"password",name:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",onChange:function(e){return p(e.target.value)}}),Object(s.jsx)("button",{className:"forget-password",children:Object(s.jsx)("p",{className:"UI caption",children:"\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"})}),Object(s.jsx)("input",{type:"submit",value:"\u0412\u043e\u0439\u0442\u0438"}),Object(s.jsxs)("p",{className:"UI caption",children:["\u041d\u0435\u0442 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430?",Object(s.jsx)("br",{}),Object(s.jsx)("button",{className:"sign-up",onClick:n,children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0443\u0439\u0442\u0435\u0441\u044c!"})]})]})})}var Y=function(e){e.setToken;var t=e.onClick,n=Object(c.useState)(!1),a=Object(m.a)(n,2),i=a[0],r=a[1],l=Object(c.useState)(!1),o=Object(m.a)(l,2),j=o[0],u=o[1],d=Object(c.useState)(),b=Object(m.a)(d,2),h=b[0],O=b[1],p=Object(c.useState)(),x=Object(m.a)(p,2),v=x[0],f=x[1],g=Object(c.useState)(),N=Object(m.a)(g,2),k=N[0],y=N[1],w=Object(c.useState)(),C=Object(m.a)(w,2),I=C[0],U=C[1];return Object(c.useEffect)((function(){U({name:h,surname:"string",email:k,phoneNumber:"string",password:v})}),[h,k,v]),Object(s.jsx)("div",{className:"sign-up container frame",children:i?Object(s.jsx)("div",{children:"Loading ..."}):Object(s.jsxs)("form",{onSubmit:function(e){function t(){return(t=Object(_.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!1),r(!0),e.prev=2,e.next=5,fetch("http://85.208.208.156:5000/api/user/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(I)});case 5:e.sent,r(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),console.log("Error registration"),u(!0);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}e.preventDefault(),function(){t.apply(this,arguments)}()},children:[Object(s.jsx)("h1",{className:"UI",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),j&&Object(s.jsx)("div",{children:"Something went wrong ..."}),Object(s.jsx)("input",{type:"text",name:"name",placeholder:"\u0418\u043c\u044f",onChange:function(e){return O(e.target.value)}}),Object(s.jsx)("input",{type:"text",name:"email",placeholder:"Email",onChange:function(e){return y(e.target.value)}}),Object(s.jsx)("input",{type:"password",name:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",onChange:function(e){return f(e.target.value)}}),Object(s.jsx)("input",{type:"submit",value:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"}),Object(s.jsxs)("p",{className:"UI caption",children:["\u0423\u0436\u0435 \u0435\u0441\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442?"," ",Object(s.jsx)("button",{className:"sign-up",onClick:t,children:"\u0412\u043e\u0439\u0434\u0438\u0442\u0435!"})," "]})]})})},$=(n(53),function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(e){var s;return Object(j.a)(this,n),(s=t.call(this,e)).state={isLoginMode:!0},s.handleClickMode=s.handleClickMode.bind(Object(N.a)(s)),s}return Object(u.a)(n,[{key:"handleClickMode",value:function(){var e=this;this.setState((function(t){return{isLoginMode:!e.state.isLoginMode}}))}},{key:"render",value:function(){var e=this.state.isLoginMode?Object(s.jsx)(X,{onClick:this.handleClickMode,setToken:this.props.setToken}):Object(s.jsx)(Y,{onClick:this.handleClickMode,setToken:this.props.setToken});return Object(s.jsx)("div",{children:e})}}]),n}(c.Component));n(54);var ee=function(){var e=function(){var e=Object(c.useState)(localStorage.getItem("token")),t=Object(m.a)(e,2),n=t[0],s=t[1];return{setToken:function(e){localStorage.setItem("token",e),s(e)},token:n}}(),t=e.token,n=e.setToken;return t?Object(s.jsxs)("div",{className:"App",children:[Object(s.jsx)(o,{isLogin:t}),Object(s.jsxs)(l.c,{children:[Object(s.jsx)(l.a,{path:"/gallery",component:I}),Object(s.jsx)(l.a,{path:"/account",children:Object(s.jsx)(Q,{token:t,setToken:n})}),Object(s.jsx)(l.a,{path:"/lecture/:lessonId",children:Object(s.jsx)(H,{})}),Object(s.jsx)(l.a,{path:"/",component:g})]})]}):Object(s.jsxs)("div",{children:[Object(s.jsx)(o,{isLogin:t}),Object(s.jsx)($,{setToken:n})]})};i.a.render(Object(s.jsx)(r.a,{children:Object(s.jsx)(ee,{})}),document.getElementById("root"))}},[[55,1,2]]]);
//# sourceMappingURL=main.d05f0de4.chunk.js.map